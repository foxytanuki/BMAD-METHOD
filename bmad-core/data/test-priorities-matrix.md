<!-- Powered by BMAD™ Core -->

# テスト優先度マトリックス

リスク、重要度、ビジネスインパクトに基づいてテストシナリオの優先度を付けるためのガイド。

## 優先度レベル

### P0 - 致命的（必須テスト）

**基準:**

- 収益に影響する機能
- セキュリティ致命的パス
- データ整合性操作
- 規制コンプライアンス要件
- 以前に壊れた機能（リグレッション防止）

**例:**

- 決済処理
- 認証/許可
- ユーザーデータの作成/削除
- 金融計算
- GDPR/プライバシーコンプライアンス

**テスト要件:**

- 全レベルでの包括的カバレッジ
- 正常パスと異常パスの両方
- エッジケースとエラーシナリオ
- 負荷下でのパフォーマンス

### P1 - 高（テストすべき）

**基準:**

- コアユーザージャーニー
- 頻繁に使用される機能
- 複雑なロジックを持つ機能
- システム間の連携ポイント
- ユーザー体験に影響する機能

**例:**

- ユーザー登録フロー
- 検索機能
- データインポート/エクスポート
- 通知システム
- ダッシュボード表示

**テスト要件:**

- 主要な正常パスが必要
- 重要なエラーシナリオ
- 致命的なエッジケース
- 基本的なパフォーマンス検証

### P2 - 中（テストしたい）

**基準:**

- セカンダリ機能
- 管理機能
- レポート機能
- 設定オプション
- UIの磨きと美観

**例:**

- 管理設定パネル
- レポート生成
- テーマカスタマイゼーション
- ヘルプドキュメント
- アナリティクストラッキング

**テスト要件:**

- 正常パスカバレッジ
- 基本的なエラーハンドリング
- エッジケースは延期可能

### P3 - 低（時間があればテスト）

**基準:**

- めったに使われない機能
- あればいい機能
- 外観的な問題
- 非重要な最適化

**例:**

- 高度な設定
- レガシー機能サポート
- 実験的機能
- デバッグユーティリティ

**テスト要件:**

- スモークテストのみ
- 手動テストに依存可能
- 既知の制限を文書化

## リスクベース優先度調整

### 優先度を上げる場合:

- 高ユーザーインパクト（ユーザーの50%以上に影響）
- 高金融インパクト（$10K以上の潜在的損失）
- セキュリティ脆弱性の可能性
- コンプライアンス/法的要件
- 顧客報告問題
- 複雑な実装（500行以上）
- 複数システム依存

### 優先度を下げる場合:

- 機能フラグで保護されている
- 段階的ロールアウトが予定されている
- 強力な監視が配置されている
- 簡単なロールバック機能
- 低使用メトリック
- シンプルな実装
- 適切に分離されたコンポーネント

## 優先度別テストカバレッジ

| 優先度 | ユニットカバレッジ | 結合カバレッジ | E2Eカバレッジ       |
| -------- | ------------- | -------------------- | ------------------ |
| P0       | >90%          | >80%                 | 全致命的パス |
| P1       | >80%          | >60%                 | 主要正常パス   |
| P2       | >60%          | >40%                 | スモークテスト        |
| P3       | ベストエフォート   | ベストエフォート          | 手動のみ        |

## 優先度割り当てルール

1. **ビジネスインパクトから始める** - これが失敗したら何が起こるか？
2. **確率を考慮** - 失敗の可能性はどの程度か？
3. **検出可能性を考慮** - 失敗したら気づくか？
4. **回復可能性を考慮** - すぐに修正できるか？

## 優先度決定ツリー

```
収益に重要か？
├─ YES → P0
└─ NO → コアユーザージャーニーに影響するか？
    ├─ YES → ハイリスクか？
    │   ├─ YES → P0
    │   └─ NO → P1
    └─ NO → 頻繁に使用されるか？
        ├─ YES → P1
        └─ NO → 顧客向けか？
            ├─ YES → P2
            └─ NO → P3
```

## テスト実行順序

1. P0テストを最初に実行（重要な問題です早く失敗）
2. P1テストを2番目に実行（コア機能）
3. 時間があればP2テストを実行
4. P3テストは完全なリグレッションサイクルのみ

## 継続的調整

以下に基づいて優先度をレビューし調整:

- 本番環境インシデントパターン
- ユーザーフィードバックと苦情
- 使用率アナリティクス
- テスト失敗履歴
- ビジネス優先度の変更
